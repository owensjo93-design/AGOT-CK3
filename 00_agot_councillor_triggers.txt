can_be_personal_steward_trigger = {
	can_be_councillor_basics_trigger = yes
	AND = {
		is_ruler = yes
		$COURT_OWNER$ = { government_has_flag = government_is_nw }
	}
}

can_have_admiral_councillor_trigger = {
	OR = {
		highest_held_title_tier >= tier_empire
		any_held_county = {
			is_coastal_county = yes
		}
	}
	agot_is_landless_nw_character = no
}

can_be_admiral_trigger = {
	can_be_councillor_basics_trigger = yes
	NOT = {
		has_council_position = councillor_spouse
		has_council_position = kingsguard_lord_commander
		has_council_position = kingsguard_1
		has_council_position = kingsguard_2
		has_council_position = kingsguard_3
		has_council_position = kingsguard_4
		has_council_position = kingsguard_5
		has_council_position = kingsguard_6
	}
	OR = {
		AND = {
			is_ruler = yes
			any_sub_realm_county = {
				is_coastal_county = yes
			}
		}
		AND = {
			is_ruler = no
			councillor_gender_valid = { COURT_OWNER = $COURT_OWNER$ }
		}
	}
}

is_kingsguard_trigger = {
	OR = {
		has_council_position = kingsguard_1
		has_council_position = kingsguard_2
		has_council_position = kingsguard_3
		has_council_position = kingsguard_4
		has_council_position = kingsguard_5
		has_council_position = kingsguard_6
		has_council_position = kingsguard_lord_commander
	}
}

######################################
#PERSONAL STEWARD COUNCILLOR TRIGGERS#
######################################

valid_personal_steward_councillor_trigger = {
	exists = cp:councillor_personal_steward
	scope:councillor = { is_alive = yes }
	cp:councillor_personal_steward = scope:councillor
}

#Councillor Spouse threshold triggers

#Intrigue
personal_steward_intrigue_tier_1_trigger = {
	scope:councillor = {
		OR = {
			has_character_modifier = councillor_personal_steward_intrigue_2_modifier
			has_character_modifier = councillor_personal_steward_intrigue_1_modifier
			has_trait = schemer
			intrigue >= personal_steward_skill_rating_1
			is_performing_council_task = task_court_intrigue
		}
	}
}

personal_steward_intrigue_tier_2_trigger = {
	scope:councillor = {
		opinion = {
			target = liege
			value > 30
		}
		OR = {
			has_character_modifier = councillor_personal_steward_intrigue_2_modifier
			has_trait = schemer
			intrigue >= personal_steward_skill_rating_3
			AND = {
				is_performing_council_task = task_court_intrigue
				OR = {
					intrigue >= personal_steward_skill_rating_2
					has_character_modifier = councillor_personal_steward_intrigue_2_modifier
					has_character_modifier = councillor_personal_steward_intrigue_1_modifier
					has_trait = schemer
				}
			}
		}
	}
}

personal_steward_intrigue_tier_3_trigger = {
	scope:councillor = {
		opinion = {
			target = liege
			value > 50
		}
		OR = {
			has_trait = schemer
			intrigue >= personal_steward_skill_rating_4
			AND = {
				is_performing_council_task = task_court_intrigue
				OR = {
					intrigue >= high_skill_rating
					has_character_modifier = councillor_personal_steward_intrigue_2_modifier
					has_trait = schemer
				}
			}
		}
	}
}

#Diplomacy
personal_steward_diplomacy_tier_1_trigger = {
	scope:councillor = {
		OR = {
			has_character_modifier = councillor_personal_steward_diplomacy_2_modifier
			has_character_modifier = councillor_personal_steward_diplomacy_1_modifier
			has_trait = diplomat
			diplomacy >= personal_steward_skill_rating_1
			is_performing_council_task = task_court_politics
		}
	}
}

personal_steward_diplomacy_tier_2_trigger = {
	scope:councillor = {
		opinion = {
			target = liege
			value > 30
		}
		OR = {
			has_character_modifier = councillor_personal_steward_diplomacy_2_modifier
			has_trait = diplomat
			diplomacy >= personal_steward_skill_rating_3
			AND = {
				is_performing_council_task = task_court_politics
				OR = {
					diplomacy >= personal_steward_skill_rating_2
					has_character_modifier = councillor_personal_steward_diplomacy_2_modifier
					has_character_modifier = councillor_personal_steward_diplomacy_1_modifier
					has_trait = diplomat
				}
			}
		}
	}
}

personal_steward_diplomacy_tier_3_trigger = {
	scope:councillor = {
		opinion = {
			target = liege
			value > 50
		}
		OR = {
			has_trait = diplomat
			diplomacy >= personal_steward_skill_rating_4
			AND = {
				is_performing_council_task = task_court_politics
				OR = {
					diplomacy >= personal_steward_skill_rating_2
					has_trait = diplomat
					has_character_modifier = councillor_personal_steward_diplomacy_2_modifier
				}
			}
		}
	}
}

#Martial
personal_steward_martial_tier_1_trigger = {
	scope:councillor = {
		OR = {
			has_character_modifier = councillor_personal_steward_martial_2_modifier
			has_character_modifier = councillor_personal_steward_martial_1_modifier
			has_trait = strategist
			martial >= personal_steward_skill_rating_1
			is_performing_council_task = task_chivalry
		}
	}
}

personal_steward_martial_tier_2_trigger = {
	scope:councillor = {
		opinion = {
			target = liege
			value > 30
		}
		OR = {
			has_character_modifier = councillor_personal_steward_martial_2_modifier
			has_trait = strategist
			martial >= personal_steward_skill_rating_3
			AND = {
				is_performing_council_task = task_chivalry
				OR = {
					martial >= personal_steward_skill_rating_2
					has_character_modifier = councillor_personal_steward_martial_2_modifier
					has_character_modifier = councillor_personal_steward_martial_1_modifier
					has_trait = strategist
				}
			}
		}
	}
}

personal_steward_martial_tier_3_trigger = {
	scope:councillor = {
		opinion = {
			target = liege
			value > 50
		}
		OR = {
			has_trait = strategist
			martial >= personal_steward_skill_rating_4
			AND = {
				is_performing_council_task = task_chivalry
				OR = {
					martial >= personal_steward_skill_rating_2
					has_character_modifier = councillor_personal_steward_martial_2_modifier
					has_trait = strategist
				}
			}
		}
	}
}


#Stewardship
personal_steward_stewardship_tier_1_trigger = {
	scope:councillor = {
		OR = {
			has_character_modifier = councillor_personal_steward_stewardship_2_modifier
			has_character_modifier = councillor_personal_steward_stewardship_1_modifier
			has_trait = architect
			stewardship >= personal_steward_skill_rating_1
			is_performing_council_task = task_manage_domain
		}
	}
}

personal_steward_stewardship_tier_2_trigger = {
	scope:councillor = {
		opinion = {
			target = liege
			value > 30
		}
		OR = {
			has_character_modifier = councillor_personal_steward_stewardship_2_modifier
			has_trait = architect
			stewardship >= personal_steward_skill_rating_3
			AND = {
				is_performing_council_task = task_manage_domain
				OR = {
					stewardship >= personal_steward_skill_rating_2
					has_character_modifier = councillor_personal_steward_stewardship_2_modifier
					has_character_modifier = councillor_personal_steward_stewardship_1_modifier
					has_trait = architect
				}
			}
		}
	}
}

personal_steward_stewardship_tier_3_trigger = {
	scope:councillor = {
		opinion = {
			target = liege
			value > 50
		}
		OR = {
			has_trait = architect
			stewardship >= personal_steward_skill_rating_4
			AND = {
				is_performing_council_task = task_manage_domain
				OR = {
					stewardship >= personal_steward_skill_rating_2
					has_character_modifier = councillor_personal_steward_stewardship_2_modifier
					has_trait = architect
				}
			}
		}
	}
}

#Learning
personal_steward_learning_tier_1_trigger = {
	scope:councillor = {
		OR = {
			has_character_modifier = councillor_personal_steward_learning_2_modifier
			has_character_modifier = councillor_personal_steward_learning_1_modifier
			has_trait = scholar
			learning >= personal_steward_skill_rating_1
			is_performing_council_task = task_patronage
		}
	}
}

personal_steward_learning_tier_2_trigger = {
	scope:councillor = {
		opinion = {
			target = liege
			value > 30
		}
		OR = {
			has_character_modifier = councillor_personal_steward_learning_2_modifier
			has_trait = scholar
			learning >= personal_steward_skill_rating_3
			AND = {
				is_performing_council_task = task_patronage
				OR = {
					learning >= personal_steward_skill_rating_2
					has_character_modifier = councillor_personal_steward_learning_2_modifier
					has_character_modifier = councillor_personal_steward_learning_1_modifier
					has_trait = scholar
				}
			}
		}
	}
}

personal_steward_learning_tier_3_trigger = {
	scope:councillor = {
		opinion = {
			target = liege
			value > 50
		}
		OR = {
			has_trait = scholar
			learning >= personal_steward_skill_rating_4
			AND = {
				is_performing_council_task = task_patronage
				OR = {
					learning >= personal_steward_skill_rating_2
					has_character_modifier = councillor_personal_steward_learning_2_modifier
					has_trait = scholar
				}
			}
		}
	}
}

councillor_personal_steward_learning_2603_valid_councillor_trigger = {
	is_available_ai_adult = yes
	NOT = { this = scope:councillor }
}

councillor_gender_valid = {
	OR = {
		AND = {
			is_female = yes
			$COURT_OWNER$ = { has_realm_law_flag = female_rulers }
		}
		AND = {
			is_male = yes
			$COURT_OWNER$ = { has_realm_law_flag = male_rulers }
		}
		has_character_flag = bypass_councillor_gender_requirements
	}
}