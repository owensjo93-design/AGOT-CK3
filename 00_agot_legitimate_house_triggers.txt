title_uses_legitimate_house_mechanic = {
	exists = var:legitimate_house_title # To prevent errors on gamestart / if the variable is not set yet due to OOO
	var:legitimate_house_title = 1
}

title_is_held_by_legitimate_house = {
	exists = var:current_house
	exists = var:legitimate_house
	var:current_house = var:legitimate_house
}

title_is_not_held_by_legitimate_house = {
	exists = var:current_house
	exists = var:legitimate_house
	NOT = { var:current_house = var:legitimate_house }
}

title_current_house_can_become_legitimate = {
	title_is_not_held_by_legitimate_house = yes
	exists = var:new_house_progress
	var:new_house_progress = 100
}

title_current_holder_can_become_legitimate = {
	title_uses_legitimate_house_mechanic = yes
	title_is_not_held_by_legitimate_house = yes
	title_current_house_can_become_legitimate = yes
	var:current_house = holder.house # Just to cover weird OOO cases on pause
}

is_legitimate_house_of_primary_title = {
	primary_title = {
		exists = var:legitimate_house
		var:legitimate_house = prev.primary_title.holder.house
	}
}