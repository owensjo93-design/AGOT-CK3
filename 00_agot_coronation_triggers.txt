agot_ruler_requires_coronation = {
	highest_held_title_tier = tier_empire
	is_landed = yes
	government_has_flag = government_is_feudal
}

agot_is_coronated_trigger = {
	trigger_if = {
		limit = { agot_uses_agot_coronations_trigger = yes }
		NOR = {
			has_inactive_trait = not_had_coronation
			has_character_flag = not_had_coronation
		}
	}
	trigger_else = {
		always = yes
	}
}

agot_is_uncoronated_trigger = {
	trigger_if = {
		limit = { agot_uses_agot_coronations_trigger = yes }
		OR = {
			has_inactive_trait = not_had_coronation
			has_character_flag = not_had_coronation
		}
	}
	trigger_else = {
		always = no
	}
}

agot_has_any_uncoronated_trigger = {
	OR = {
		has_inactive_trait = not_had_coronation #Left just in case
		has_character_flag = not_had_coronation #Replaces the above
		has_character_modifier = uncoronated_child_modifier
		has_character_modifier = uncoronated_modifier
	}
}

agot_uses_agot_coronations_trigger = {
	NOT = { has_dlc_feature = coronations }
}

is_valid_coronation_special_guest_trigger = {
	is_alive = yes
	is_human = yes
	is_at_war = no
	is_imprisoned = no
}

needs_crown_for_coronation_trigger = {
	any_character_artifact = {
		artifact_slot_type = helmet
	}
}

iron_throne_valid_trigger = {
	exists = title:e_the_iron_throne.holder
	has_title = title:e_the_iron_throne
}

activity_agot_coronation_is_valid_guest = {
	age >= 3
	is_at_war = no
	is_in_army = no
	is_imprisoned = no
	NOR = {
		exists = involved_activity
		has_trait = incapable
	}
}

coronation_1000_valid_relative_trigger = {
	is_alive = yes
	is_ai = yes
	is_participant_in_activity = scope:activity
	age >= 16
	location = root.location
	NOT = { has_character_flag = busy_in_coronation_event }
}