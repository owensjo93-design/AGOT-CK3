# Trigger for night's watch allowing women
agot_valid_potential_nw_member = {
	is_male = yes
}

agot_reasonable_potential_nw_member = {
	agot_valid_potential_nw_member = yes
	is_adult = yes
	agot_nw_physically_unfit = no
	is_married = no
	is_betrothed = no
	is_human = yes
}

agot_is_member_of_nights_watch = {
	OR = {
		has_trait = nightswatch
		has_trait = nightswatch_temp
		has_trait = nightswatch_historical
	}
}

agot_nw_can_banish = {
	# Must be not a wildling and have a capital in westeros to send
	$BANISHER$ = {
		culture = { agot_is_wildling_culture = no }
		primary_title = {
			title_capital_county.title_province = {
				geographical_region = world_westeros_seven_kingdoms
			}
		}
	}

	# Must be male and not a wildling to get sent
	$BANISHEE$ = {
		agot_valid_potential_nw_member = yes
		age >= 10
		culture = { agot_is_wildling_culture = no }
	}

	# NW must exist
	OR = {
		title:k_the_wall.holder ?= {
			government_has_flag = government_is_nw
		}
		title:d_the_wall.holder ?= {
			government_has_flag = government_is_nw
		}
	}
}

agot_nw_physically_unfit = {
	OR = {
		has_trait = blind
		has_trait = dwarf
		has_trait = clubfooted
		has_trait = one_legged
		has_trait = one_handed
		has_trait = incapable
		has_trait = infirm
		has_trait = physique_bad_1
		has_trait = physique_bad_2
		has_trait = physique_bad_3
		has_trait = weak
	}
}

agot_nw_is_pruneable_trigger = {
	save_temporary_scope_as = pool_prune_check
	is_adult = yes
	NOR = {
		any_close_or_extended_family_member = { is_ruler = yes }
		AND = { #Belongs to a dynasty with more than 1 member
			exists = dynasty
			dynasty = { any_dynasty_member = { NOT = { this = scope:pool_prune_check } } }
		}
		any_relation = {
			type = lover
			is_ruler = yes
		}
		any_relation = {
			type = friend
			is_ruler = yes
		}
		any_relation = {
			type = rival
			is_ruler = yes
		}
		any_claim = { always = yes }
		is_married = yes
		any_child = { is_adult = no }
		diplomacy >= extremely_high_skill_rating
		martial >= extremely_high_skill_rating
		stewardship >= extremely_high_skill_rating
		intrigue >= extremely_high_skill_rating
		learning >= extremely_high_skill_rating
		prowess >= extremely_high_skill_rating
	}
}