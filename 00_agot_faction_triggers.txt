agot_loyalist_faction_character_validity_trigger = {
	NOR = { #No prince-bishop can ever join
		government_has_flag = government_is_theocracy
		government_has_flag = government_is_uninteractable
		trigger_if = {
			limit = { exists = cp:councillor_court_chaplain }
			this = cp:councillor_court_chaplain
		}
	}

	$FACTION_TARGET$ = liege
	highest_held_title_tier > tier_barony

	#Not blocked through events
	custom_description = {
		text = agot_loyalist_faction_character_blocked_from_joining
		NOT = {
			has_character_flag = recently_disbanded_loyalist_faction
		}
	}
}

agot_loyalist_faction_can_character_join_trigger = {
	agot_loyalist_faction_character_validity_trigger = {
		FACTION_TARGET = $FACTION_TARGET$
	}
	is_adult = yes
	NOT = { has_truce = $FACTION_TARGET$ }
	NOT = { is_at_war_with = $FACTION_TARGET$ }
	$FACTION_TARGET$ = {
		NOT = { has_strong_hook = root }
		NOT = { is_allied_to = root }
	}

	OR = {
		is_ai = no
		NOR = {
			has_relation_lover = $FACTION_TARGET$
			has_relation_friend = $FACTION_TARGET$
		}
	}

	$FACTION_TARGET$.highest_held_title_tier > tier_county
}

agot_loyalist_faction_can_character_create_trigger = {
	agot_loyalist_faction_character_validity_trigger = {
		FACTION_TARGET = $FACTION_TARGET$
	}
	is_adult = yes
	NOT = { has_truce = $FACTION_TARGET$ }
	NOT = { is_at_war_with = $FACTION_TARGET$ }
	$FACTION_TARGET$ = {
		NOT = { has_strong_hook = root }
		NOT = { is_allied_to = root }
	}

	NOR = {
		has_relation_lover = $FACTION_TARGET$
		has_relation_friend = $FACTION_TARGET$
	}

	$FACTION_TARGET$.highest_held_title_tier > tier_county
}