building_building_moat_requirement_terrain = {
	OR = {
		agot_is_farmlands_terrain = yes
		agot_is_plains_terrain = yes
		agot_is_wetlands_terrain = yes
		agot_is_floodplains_terrain = yes
		agot_is_steppe_terrain = yes
		agot_is_urban_terrain = yes
	}

	#needs to mirror building_curtain_walls_requirement_terrain
}

building_apiaries_requirement_terrain = {
	OR = {
		agot_is_plains_terrain = yes
		agot_is_farmlands_terrain = yes
		agot_is_floodplains_terrain = yes
		agot_is_drylands_terrain = yes
		agot_is_oasis_terrain = yes
		agot_is_hills_terrain = yes
		agot_is_forest_terrain = yes
		agot_is_highlands_terrain = yes
		agot_is_cloudforest_terrain = yes
	}
}

building_urban_terrain = {
	agot_is_urban_terrain = yes
}

agot_can_restore_kl_dragonpit = {
	AND = {
		scope:holder.liege = { has_title = title:c_kings_landing }
		scope:holder.liege = {
			OR = {
				custom_tooltip = {
					text = has_a_relation_dragon_trigger_tooltip
					any_relation = { # You have a tamed dragon
						type = agot_dragon
					}
				}
				AND = { # You have an egg + You are Ambitious + You have Valyrian Cultural Heritage
					custom_tooltip = {
						text = has_a_dragon_egg_artifact_tooltip
						any_character_artifact = {
							has_variable = dragon_egg
						}
					}
					has_trait = ambitious
					culture = {
						has_cultural_pillar = heritage_valyrian
					}
				}
				AND = { # You have an egg + You are Eccentric
					custom_tooltip = {
						text = has_a_dragon_egg_artifact_tooltip
						any_character_artifact = {
							has_variable = dragon_egg
						}
					}
					has_trait = eccentric
				}
			}
		}
	}
}

agot_can_build_or_restore_dragonpits = {
	scope:holder = {
		highest_held_title_tier >= tier_kingdom # LPs and Above!
		agot_has_dragonpit_requirements_trigger = yes
	}
	NOR = {
		scope:holder = { # Cannot have any dragonpits already built in your held titles
			any_held_title = {
				tier = tier_county
				any_county_province = {
					has_building_or_higher = generic_dragon_pit_01
				}
			}
		}
		has_any_dragonpits = yes
		county = {
			any_county_province = {
				has_any_dragonpits = yes
			}
		}
	}
}

building_agot_urban_farms_requirement_terrain = {
	OR = {
		agot_is_urban_terrain = yes
	}
}

building_agot_steppe_farms_requirement_terrain = {
	OR = {
		agot_is_steppe_terrain = yes
	}
}

building_agot_slave_camps_requirement_terrain = {
	always = yes
}

building_requirement_pirate = {
	scope:holder = {
		has_government = pirate_government
	}
}

agot_can_build_city_holdings = {
	county.holder = {
		NOT = {  government_has_flag = government_is_pirate }
	}
	custom_tooltip = {
		text = GET_OUT_OF_MY_SWAMP
		NOT = { agot_is_the_bog_terrain = yes }
	}
}

agot_county_can_build_city_in_province = {
	tier = tier_county
	any_county_province = { agot_can_build_city_holdings = yes }
}

agot_can_build_temple_holdings = {
	county.holder = {
		NOT = { government_has_flag = government_is_nw }
		NOT = { government_has_flag = government_is_pirate }
		NOT = { religion = religion:the_pact_religion }
		NOT = { religion = religion:the_ways_religion }
	}
	custom_tooltip = {
		text = GET_OUT_OF_MY_SWAMP
		NOT = { agot_is_the_bog_terrain = yes }
	}
}

agot_county_can_build_temple_in_province = {
	tier = tier_county
	any_county_province = { agot_can_build_temple_holdings = yes }
}