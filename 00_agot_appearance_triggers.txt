agot_hair_dye_potential_trigger = {
	OR = {
		has_character_flag = can_dye_hair
		has_trait = fashionable
		has_trait = eccentric
		OR = {
			culture = { has_cultural_pillar = heritage_ghiscari }
			AND = {
				culture = { has_cultural_pillar = heritage_valyrian }
				NOT = {
					culture = culture:high_valyrian
					culture = culture:westerosi_valyrian
					culture = culture:essosi_valyrian
				}
				culture = { is_hybrid_culture = no }
				culture = { is_divergent_culture = no }
			}
			culture = { has_clothing_gfx = essosi_valyrian_clothing_gfx }
		}
	}
}

agot_has_dyed_hair = {
	OR = {
		has_inactive_trait = poppy_hair_dye
		has_inactive_trait = asshaii_scarlet_hair_dye
		has_inactive_trait = ghost_rose_hair_dye
		has_inactive_trait = hibiscus_hair_dye
		has_inactive_trait = aquan_red_hair_dye
		has_inactive_trait = ghiscari_copper_hair_dye
		has_inactive_trait = hranna_bloom_hair_dye
		has_inactive_trait = melee_hair_dye
		has_inactive_trait = bloodstone_red_hair_dye
		has_inactive_trait = passioned_plea_hair_dye
		has_inactive_trait = dragons_breath_hair_dye
		has_inactive_trait = cut_crimson_hair_dye
		has_inactive_trait = rich_madder_hair_dye
		has_inactive_trait = womens_weapon_hair_dye
		has_inactive_trait = maidens_game_hair_dye
		has_inactive_trait = sarhoy_flush_hair_dye
		has_inactive_trait = pennyroyal_hair_dye
		has_inactive_trait = sweet_lotus_hair_dye
		has_inactive_trait = oleander_heart_hair_dye
		has_inactive_trait = panteras_bite_hair_dye
		has_inactive_trait = lovers_blush_hair_dye
		has_inactive_trait = sunset_on_the_narrows_hair_dye
		has_inactive_trait = pink_graces_hair_dye
		has_inactive_trait = wild_cherry_hair_dye
		has_inactive_trait = twilight_ruby_hair_dye
		has_inactive_trait = trueborn_hair_dye
		has_inactive_trait = mountain_magenta_hair_dye
		has_inactive_trait = pink_cardoon_hair_dye
		has_inactive_trait = lord_of_the_seas_hair_dye
		has_inactive_trait = nightshade_hair_dye
		has_inactive_trait = secret_city_hair_dye
		has_inactive_trait = lavender_haze_hair_dye
		has_inactive_trait = winesink_hair_dye
		has_inactive_trait = courtesan_locks_hair_dye
		has_inactive_trait = thistles_touch_hair_dye
		has_inactive_trait = lilac_dream_hair_dye
		has_inactive_trait = dornish_plum_hair_dye
		has_inactive_trait = archonite_hair_dye
		has_inactive_trait = emperors_tune_hair_dye
		has_inactive_trait = palemoon_hair_dye
		has_inactive_trait = princely_hair_dye
		has_inactive_trait = misty_cloud_hair_dye
		has_inactive_trait = shade_of_the_evening_hair_dye
		has_inactive_trait = spirit_of_sapphire_hair_dye
		has_inactive_trait = winter_rose_hair_dye
		has_inactive_trait = bluejay_hair_dye
		has_inactive_trait = azure_crown_hair_dye
		has_inactive_trait = shivering_ends_hair_dye
		has_inactive_trait = melange_sea_hair_dye
		has_inactive_trait = berry_mash_hair_dye
		has_inactive_trait = mummers_mask_hair_dye
		has_inactive_trait = coldsnap_hair_dye
		has_inactive_trait = griffins_hide_hair_dye
		has_inactive_trait = crashing_waves_hair_dye
		has_inactive_trait = mermaids_flowers_hair_dye
		has_inactive_trait = glittering_galley_hair_dye
		has_inactive_trait = myrish_lace_hair_dye
		has_inactive_trait = shadowmint_hair_dye
		has_inactive_trait = seaglass_hair_dye
		has_inactive_trait = jungles_welcome_hair_dye
		has_inactive_trait = viridescent_charm_hair_dye
		has_inactive_trait = clover_hair_dye
		has_inactive_trait = merling_green_hair_dye
		has_inactive_trait = imperial_jade_hair_dye
		has_inactive_trait = evergreen_hair_dye
		has_inactive_trait = cliffmoss_hair_dye
		has_inactive_trait = wildfire_hair_dye
		has_inactive_trait = selhoru_skies_hair_dye
		has_inactive_trait = verdant_mane_hair_dye
		has_inactive_trait = summer_emerald_hair_dye
		has_inactive_trait = isles_venom_hair_dye
		has_inactive_trait = olive_hair_dye
		has_inactive_trait = pipers_grass_hair_dye
		has_inactive_trait = yellow_toad_hair_dye
		has_inactive_trait = evening_star_hair_dye
		has_inactive_trait = lemon_cake_hair_dye
		has_inactive_trait = goldenrod_hair_dye
		has_inactive_trait = bees_wax_hair_dye
		has_inactive_trait = honeywine_hair_dye
		has_inactive_trait = rogare_gold_hair_dye
		has_inactive_trait = aged_cheddar_hair_dye
		has_inactive_trait = ambitious_amber_hair_dye
		has_inactive_trait = saffron_hair_dye
		has_inactive_trait = lantern_glow_hair_dye
		has_inactive_trait = spiced_pumpkin_hair_dye
		has_inactive_trait = peach_petals_hair_dye
		has_inactive_trait = coastal_orange_hair_dye
		has_inactive_trait = tigers_poise_hair_dye
		has_inactive_trait = blood_orange_hair_dye
		has_inactive_trait = coral_hair_dye
		has_character_modifier = poppy_hair_dye
		has_character_modifier = asshaii_scarlet_hair_dye
		has_character_modifier = ghost_rose_hair_dye
		has_character_modifier = hibiscus_hair_dye
		has_character_modifier = aquan_red_hair_dye
		has_character_modifier = ghiscari_copper_hair_dye
		has_character_modifier = hranna_bloom_hair_dye
		has_character_modifier = melee_hair_dye
		has_character_modifier = bloodstone_red_hair_dye
		has_character_modifier = passioned_plea_hair_dye
		has_character_modifier = dragons_breath_hair_dye
		has_character_modifier = cut_crimson_hair_dye
		has_character_modifier = rich_madder_hair_dye
		has_character_modifier = womens_weapon_hair_dye
		has_character_modifier = maidens_game_hair_dye
		has_character_modifier = sarhoy_flush_hair_dye
		has_character_modifier = pennyroyal_hair_dye
		has_character_modifier = sweet_lotus_hair_dye
		has_character_modifier = oleander_heart_hair_dye
		has_character_modifier = panteras_bite_hair_dye
		has_character_modifier = lovers_blush_hair_dye
		has_character_modifier = sunset_on_the_narrows_hair_dye
		has_character_modifier = pink_graces_hair_dye
		has_character_modifier = wild_cherry_hair_dye
		has_character_modifier = twilight_ruby_hair_dye
		has_character_modifier = trueborn_hair_dye
		has_character_modifier = mountain_magenta_hair_dye
		has_character_modifier = pink_cardoon_hair_dye
		has_character_modifier = lord_of_the_seas_hair_dye
		has_character_modifier = nightshade_hair_dye
		has_character_modifier = secret_city_hair_dye
		has_character_modifier = lavender_haze_hair_dye
		has_character_modifier = winesink_hair_dye
		has_character_modifier = courtesan_locks_hair_dye
		has_character_modifier = thistles_touch_hair_dye
		has_character_modifier = lilac_dream_hair_dye
		has_character_modifier = dornish_plum_hair_dye
		has_character_modifier = archonite_hair_dye
		has_character_modifier = emperors_tune_hair_dye
		has_character_modifier = palemoon_hair_dye
		has_character_modifier = princely_hair_dye
		has_character_modifier = misty_cloud_hair_dye
		has_character_modifier = shade_of_the_evening_hair_dye
		has_character_modifier = spirit_of_sapphire_hair_dye
		has_character_modifier = winter_rose_hair_dye
		has_character_modifier = bluejay_hair_dye
		has_character_modifier = azure_crown_hair_dye
		has_character_modifier = shivering_ends_hair_dye
		has_character_modifier = melange_sea_hair_dye
		has_character_modifier = berry_mash_hair_dye
		has_character_modifier = mummers_mask_hair_dye
		has_character_modifier = coldsnap_hair_dye
		has_character_modifier = griffins_hide_hair_dye
		has_character_modifier = crashing_waves_hair_dye
		has_character_modifier = mermaids_flowers_hair_dye
		has_character_modifier = glittering_galley_hair_dye
		has_character_modifier = myrish_lace_hair_dye
		has_character_modifier = shadowmint_hair_dye
		has_character_modifier = seaglass_hair_dye
		has_character_modifier = jungles_welcome_hair_dye
		has_character_modifier = viridescent_charm_hair_dye
		has_character_modifier = clover_hair_dye
		has_character_modifier = merling_green_hair_dye
		has_character_modifier = imperial_jade_hair_dye
		has_character_modifier = evergreen_hair_dye
		has_character_modifier = cliffmoss_hair_dye
		has_character_modifier = wildfire_hair_dye
		has_character_modifier = selhoru_skies_hair_dye
		has_character_modifier = verdant_mane_hair_dye
		has_character_modifier = summer_emerald_hair_dye
		has_character_modifier = isles_venom_hair_dye
		has_character_modifier = olive_hair_dye
		has_character_modifier = pipers_grass_hair_dye
		has_character_modifier = yellow_toad_hair_dye
		has_character_modifier = evening_star_hair_dye
		has_character_modifier = lemon_cake_hair_dye
		has_character_modifier = goldenrod_hair_dye
		has_character_modifier = bees_wax_hair_dye
		has_character_modifier = honeywine_hair_dye
		has_character_modifier = rogare_gold_hair_dye
		has_character_modifier = aged_cheddar_hair_dye
		has_character_modifier = ambitious_amber_hair_dye
		has_character_modifier = saffron_hair_dye
		has_character_modifier = lantern_glow_hair_dye
		has_character_modifier = spiced_pumpkin_hair_dye
		has_character_modifier = peach_petals_hair_dye
		has_character_modifier = coastal_orange_hair_dye
		has_character_modifier = tigers_poise_hair_dye
		has_character_modifier = blood_orange_hair_dye
		has_character_modifier = coral_hair_dye
	}
}

agot_invalid_hair_overrides = {
	OR = {
		has_trait = albino
		agot_has_dyed_hair = yes
	}
}

agot_valyrian_heterochromia = {
	AND = {
		has_trait = heterochromia_eyes
		culture = { has_cultural_pillar = heritage_valyrian }
		NOT = {
			has_inactive_trait = heterochromia_blue1
			has_inactive_trait = heterochromia_blue2
			has_inactive_trait = heterochromia_green1
			has_inactive_trait = heterochromia_green2
			has_inactive_trait = heterochromia_grey
			has_inactive_trait = heterochromia_black1
			has_inactive_trait = heterochromia_black2
			has_inactive_trait = heterochromia_brown1
			has_inactive_trait = heterochromia_brown2
			has_inactive_trait = heterochromia_brown3
			has_inactive_trait = heterochromia_purple1
			has_inactive_trait = heterochromia_purple2
			has_inactive_trait = heterochromia_purple3
			has_inactive_trait = heterochromia_purple4
			has_inactive_trait = heterochromia_red
			has_inactive_trait = heterochromia_gold
		}
	}
}

agot_heterochromia_no_overwrite = {
	AND = {
		has_trait = heterochromia_eyes
		NOT = {
			culture = { has_cultural_pillar = heritage_valyrian }
			has_inactive_trait = heterochromia_blue1
			has_inactive_trait = heterochromia_blue2
			has_inactive_trait = heterochromia_green1
			has_inactive_trait = heterochromia_green2
			has_inactive_trait = heterochromia_grey
			has_inactive_trait = heterochromia_black1
			has_inactive_trait = heterochromia_black2
			has_inactive_trait = heterochromia_brown1
			has_inactive_trait = heterochromia_brown2
			has_inactive_trait = heterochromia_brown3
			has_inactive_trait = heterochromia_purple1
			has_inactive_trait = heterochromia_purple2
			has_inactive_trait = heterochromia_purple3
			has_inactive_trait = heterochromia_purple4
			has_inactive_trait = heterochromia_red
			has_inactive_trait = heterochromia_gold
		}
	}
}

agot_has_inactive_heterochromia_trait_trigger = {
	OR = {
		has_inactive_trait = heterochromia_blue1
		has_inactive_trait = heterochromia_blue2
		has_inactive_trait = heterochromia_green1
		has_inactive_trait = heterochromia_green2
		has_inactive_trait = heterochromia_grey
		has_inactive_trait = heterochromia_black1
		has_inactive_trait = heterochromia_black2
		has_inactive_trait = heterochromia_brown1
		has_inactive_trait = heterochromia_brown2
		has_inactive_trait = heterochromia_brown3
		has_inactive_trait = heterochromia_red
		has_inactive_trait = heterochromia_gold
	}
}

agot_has_any_eye_gem_trigger = {
	OR = {
		has_character_flag = eye_gem_red
		has_character_flag = eye_gem_blue
		has_character_flag = eye_gem_white
		has_character_flag = eye_gem_dark_blue
		has_character_flag = eye_gem_green
		has_character_flag = eye_gem_black
		has_character_flag = eye_gem_yellow
		has_character_flag = eye_gem_orange
		has_character_flag = eye_gem_purple

		has_inactive_trait = eye_gem_red
		has_inactive_trait = eye_gem_blue
		has_inactive_trait = eye_gem_white
		has_inactive_trait = eye_gem_dark_blue
		has_inactive_trait = eye_gem_green
		has_inactive_trait = eye_gem_black
		has_inactive_trait = eye_gem_yellow
		has_inactive_trait = eye_gem_orange
		has_inactive_trait = eye_gem_purple
	}
}

agot_blind = {
	AND = {
		has_trait = blind
		NOT = {
			has_inactive_trait = aged
		}
	}
}

agot_aged = {
	AND = {
		has_trait = blind
		has_inactive_trait = aged
	}
}

agot_halfblind_battle = {
	AND = {
		has_trait = half_blind
		has_inactive_trait = halfblind_scar
	}
}

agot_has_visible_disfigurement_trigger = {
	OR = {
		has_inactive_trait = visible_disfigurement_1
		has_inactive_trait = visible_disfigurement_2
		has_inactive_trait = visible_disfigurement_3
		has_inactive_trait = visible_disfigurement_4
		has_inactive_trait = visible_disfigurement_5
	}
}

agot_visible_disfigurement_trigger = {
	has_trait = disfigured
	NOR = {
		agot_has_visible_disfigurement_trigger = yes
		is_character_blackfyre_14 = yes
	}
}

agot_visible_disfigurement_bandages_trigger = {
	has_trait = disfigured
	OR = {
		agot_has_visible_disfigurement_trigger = no
		has_character_flag = agot_force_disfigurement_bandages
	}
	NOT = {
		is_character_blackfyre_14 = yes
	}
}

agot_visible_disfigurement_fully_masked_trigger = {
	OR = {
		has_character_flag = disfigurement_fully_masked
		has_inactive_trait = disfigurement_fully_masked
	}
}

agot_visible_disfigurement_partially_masked_trigger = {
	OR = {
		AND = {
			has_character_modifier = wearing_disfigurement_mask_modifier
			NOT = { has_character_flag = disfigurement_fully_masked }
		}
		has_inactive_trait = disfigurement_partially_masked
	}
}
