agot_map_mode_setup_effect = {
	if = {
		limit = { NOT = { global_var:custom_map_mode ?= flag:agot_roads_map } }
		set_global_variable = {
			name = custom_map_mode
			value = flag:agot_roads_map
		}
		every_barony = {
			if = {
				limit = {
					title_province = {
						agot_is_majorroad_terrain = yes
					}
				}
				set_color_from_title = title:d_agot_roads_map_major
			}
			else_if = {
				limit = {
					title_province = {
						agot_is_minorroad_terrain = yes
					}
				}
				set_color_from_title = title:d_agot_roads_map_minor
			}
			else_if = {
				limit = {
					title_province = {
						agot_is_urban_terrain = yes
					}
				}
				set_color_from_title = title:d_agot_roads_map_urban
			}
			else = {
				set_color_from_title = title:d_agot_roads_map_void
			}
		}
	}
}